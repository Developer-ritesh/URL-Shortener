# URL Shortener

A simple URL shortener service built with Node.js, Express, and MongoDB. This service allows you to generate short URLs that redirect to original long URLs, and provides analytics on URL usage.

## Features

- Generate short URLs for any valid URL
- Redirect to the original URL when accessing the short URL
- Track and view analytics including total clicks and visit timestamps

## Installation

1. Clone the repository:
   ```bash
   git clone <repository-url>
   cd url_shortener
   ```

2. Install dependencies:
   ```bash
   npm install
   ```

3. Make sure you have MongoDB installed and running. The app connects to MongoDB at:
   ```
   mongodb://localhost:27017/urlshortener
   ```

4. Start the server:
   ```bash
   node index.js
   ```

The server will start on port 8000.

## Usage

Use the following API endpoints to interact with the URL shortener service:

### Generate a new short URL

- **Endpoint:** `POST /url`
- **Request Body:**
  ```json
  {
    "url": "https://example.com"
  }
  ```
- **Response:**
  ```json
  {
    "id": "shortId"
  }
  ```
- The `id` is the generated short URL identifier.

### Redirect to original URL

- **Endpoint:** `GET /url/:shortId`
- Redirects the user to the original URL associated with the given `shortId`.

### Get URL analytics

- **Endpoint:** `GET /url/analytics/:shortId`
- **Response:**
  ```json
  {
    "totalClicks": 10,
    "analytics": [
      { "timestamp": 1633024800000 },
      { "timestamp": 1633111200000 }
    ]
  }
  ```
- Returns the total number of clicks and a list of visit timestamps for the short URL.

## Notes

- The service uses an 8-character unique ID generated by the `nanoid` package.
- Visit history is stored in MongoDB and updated on each redirect.
- Ensure MongoDB is running locally or update the connection string in `index.js` accordingly.

## License

This project is open source and available under the MIT License.
